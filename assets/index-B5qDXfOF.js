(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();function He(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var S={exports:{}},Te=S.exports,ge;function Ue(){return ge||(ge=1,function(l){(function(){var u,o,e,t,i,n,r,a,f,c,p,h,b,m,M;e=Math.floor,c=Math.min,o=function(s,g){return s<g?-1:s>g?1:0},f=function(s,g,d,v,A){var w;if(d==null&&(d=0),A==null&&(A=o),d<0)throw new Error("lo must be non-negative");for(v==null&&(v=s.length);d<v;)w=e((d+v)/2),A(g,s[w])<0?v=w:d=w+1;return[].splice.apply(s,[d,d-d].concat(g)),g},n=function(s,g,d){return d==null&&(d=o),s.push(g),m(s,0,s.length-1,d)},i=function(s,g){var d,v;return g==null&&(g=o),d=s.pop(),s.length?(v=s[0],s[0]=d,M(s,0,g)):v=d,v},a=function(s,g,d){var v;return d==null&&(d=o),v=s[0],s[0]=g,M(s,0,d),v},r=function(s,g,d){var v;return d==null&&(d=o),s.length&&d(s[0],g)<0&&(v=[s[0],g],g=v[0],s[0]=v[1],M(s,0,d)),g},t=function(s,g){var d,v,A,w,k,N;for(g==null&&(g=o),w=(function(){N=[];for(var F=0,W=e(s.length/2);0<=W?F<W:F>W;0<=W?F++:F--)N.push(F);return N}).apply(this).reverse(),k=[],v=0,A=w.length;v<A;v++)d=w[v],k.push(M(s,d,g));return k},b=function(s,g,d){var v;if(d==null&&(d=o),v=s.indexOf(g),v!==-1)return m(s,0,v,d),M(s,v,d)},p=function(s,g,d){var v,A,w,k,N;if(d==null&&(d=o),A=s.slice(0,g),!A.length)return A;for(t(A,d),N=s.slice(g),w=0,k=N.length;w<k;w++)v=N[w],r(A,v,d);return A.sort(d).reverse()},h=function(s,g,d){var v,A,w,k,N,F,W,B,O;if(d==null&&(d=o),g*10<=s.length){if(w=s.slice(0,g).sort(d),!w.length)return w;for(A=w[w.length-1],W=s.slice(g),k=0,F=W.length;k<F;k++)v=W[k],d(v,A)<0&&(f(w,v,0,null,d),w.pop(),A=w[w.length-1]);return w}for(t(s,d),O=[],N=0,B=c(g,s.length);0<=B?N<B:N>B;0<=B?++N:--N)O.push(i(s,d));return O},m=function(s,g,d,v){var A,w,k;for(v==null&&(v=o),A=s[d];d>g;){if(k=d-1>>1,w=s[k],v(A,w)<0){s[d]=w,d=k;continue}break}return s[d]=A},M=function(s,g,d){var v,A,w,k,N;for(d==null&&(d=o),A=s.length,N=g,w=s[g],v=2*g+1;v<A;)k=v+1,k<A&&!(d(s[v],s[k])<0)&&(v=k),s[g]=s[v],g=v,v=2*g+1;return s[g]=w,m(s,N,g,d)},u=function(){s.push=n,s.pop=i,s.replace=a,s.pushpop=r,s.heapify=t,s.updateItem=b,s.nlargest=p,s.nsmallest=h;function s(g){this.cmp=g??o,this.nodes=[]}return s.prototype.push=function(g){return n(this.nodes,g,this.cmp)},s.prototype.pop=function(){return i(this.nodes,this.cmp)},s.prototype.peek=function(){return this.nodes[0]},s.prototype.contains=function(g){return this.nodes.indexOf(g)!==-1},s.prototype.replace=function(g){return a(this.nodes,g,this.cmp)},s.prototype.pushpop=function(g){return r(this.nodes,g,this.cmp)},s.prototype.heapify=function(){return t(this.nodes,this.cmp)},s.prototype.updateItem=function(g){return b(this.nodes,g,this.cmp)},s.prototype.clear=function(){return this.nodes=[]},s.prototype.empty=function(){return this.nodes.length===0},s.prototype.size=function(){return this.nodes.length},s.prototype.clone=function(){var g;return g=new s,g.nodes=this.nodes.slice(0),g},s.prototype.toArray=function(){return this.nodes.slice(0)},s.prototype.insert=s.prototype.push,s.prototype.top=s.prototype.peek,s.prototype.front=s.prototype.peek,s.prototype.has=s.prototype.contains,s.prototype.copy=s.prototype.clone,s}(),l!==null&&l.exports?l.exports=u:window.Heap=u}).call(Te)}(S)),S.exports}var H,ve;function L(){return ve||(ve=1,H=Ue()),H}var T,be;function de(){if(be)return T;be=1;function l(u,o,e){this.x=u,this.y=o,this.walkable=e===void 0?!0:e}return T=l,T}var U,Ae;function _(){if(Ae)return U;Ae=1;var l={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};return U=l,U}var G,me;function Ge(){if(me)return G;me=1;var l=de(),u=_();function o(e,t,i){var n;typeof e!="object"?n=e:(t=e.length,n=e[0].length,i=e),this.width=n,this.height=t,this.nodes=this._buildNodes(n,t,i)}return o.prototype._buildNodes=function(e,t,i){var n,r,a=new Array(t);for(n=0;n<t;++n)for(a[n]=new Array(e),r=0;r<e;++r)a[n][r]=new l(r,n);if(i===void 0)return a;if(i.length!==t||i[0].length!==e)throw new Error("Matrix size does not fit");for(n=0;n<t;++n)for(r=0;r<e;++r)i[n][r]&&(a[n][r].walkable=!1);return a},o.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},o.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},o.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},o.prototype.setWalkableAt=function(e,t,i){this.nodes[t][e].walkable=i},o.prototype.getNeighbors=function(e,t){var i=e.x,n=e.y,r=[],a=!1,f=!1,c=!1,p=!1,h=!1,b=!1,m=!1,M=!1,s=this.nodes;if(this.isWalkableAt(i,n-1)&&(r.push(s[n-1][i]),a=!0),this.isWalkableAt(i+1,n)&&(r.push(s[n][i+1]),c=!0),this.isWalkableAt(i,n+1)&&(r.push(s[n+1][i]),h=!0),this.isWalkableAt(i-1,n)&&(r.push(s[n][i-1]),m=!0),t===u.Never)return r;if(t===u.OnlyWhenNoObstacles)f=m&&a,p=a&&c,b=c&&h,M=h&&m;else if(t===u.IfAtMostOneObstacle)f=m||a,p=a||c,b=c||h,M=h||m;else if(t===u.Always)f=!0,p=!0,b=!0,M=!0;else throw new Error("Incorrect value of diagonalMovement");return f&&this.isWalkableAt(i-1,n-1)&&r.push(s[n-1][i-1]),p&&this.isWalkableAt(i+1,n-1)&&r.push(s[n-1][i+1]),b&&this.isWalkableAt(i+1,n+1)&&r.push(s[n+1][i+1]),M&&this.isWalkableAt(i-1,n+1)&&r.push(s[n+1][i-1]),r},o.prototype.clone=function(){var e,t,i=this.width,n=this.height,r=this.nodes,a=new o(i,n),f=new Array(n);for(e=0;e<n;++e)for(f[e]=new Array(i),t=0;t<i;++t)f[e][t]=new l(t,e,r[e][t].walkable);return a.nodes=f,a},G=o,G}var I={},ke;function R(){if(ke)return I;ke=1;function l(r){for(var a=[[r.x,r.y]];r.parent;)r=r.parent,a.push([r.x,r.y]);return a.reverse()}I.backtrace=l;function u(r,a){var f=l(r),c=l(a);return f.concat(c.reverse())}I.biBacktrace=u;function o(r){var a,f=0,c,p,h,b;for(a=1;a<r.length;++a)c=r[a-1],p=r[a],h=c[0]-p[0],b=c[1]-p[1],f+=Math.sqrt(h*h+b*b);return f}I.pathLength=o;function e(r,a,f,c){var p=Math.abs,h=[],b,m,M,s,g,d;for(M=p(f-r),s=p(c-a),b=r<f?1:-1,m=a<c?1:-1,g=M-s;h.push([r,a]),!(r===f&&a===c);)d=2*g,d>-s&&(g=g-s,r=r+b),d<M&&(g=g+M,a=a+m);return h}I.interpolate=e;function t(r){var a=[],f=r.length,c,p,h,b,m,M;if(f<2)return a;for(m=0;m<f-1;++m)for(c=r[m],p=r[m+1],h=e(c[0],c[1],p[0],p[1]),b=h.length,M=0;M<b-1;++M)a.push(h[M]);return a.push(r[f-1]),a}I.expandPath=t;function i(r,a){var f=a.length,c=a[0][0],p=a[0][1],h=a[f-1][0],b=a[f-1][1],m,M,s,g,d,v,A,w,k,N,F;for(m=c,M=p,d=[[m,M]],v=2;v<f;++v){for(w=a[v],s=w[0],g=w[1],k=e(m,M,s,g),F=!1,A=1;A<k.length;++A)if(N=k[A],!r.isWalkableAt(N[0],N[1])){F=!0;break}F&&(lastValidCoord=a[v-1],d.push(lastValidCoord),m=lastValidCoord[0],M=lastValidCoord[1])}return d.push([h,b]),d}I.smoothenPath=i;function n(r){if(r.length<3)return r;var a=[],f=r[0][0],c=r[0][1],p=r[1][0],h=r[1][1],b=p-f,m=h-c,M,s,g,d,v,A;for(v=Math.sqrt(b*b+m*m),b/=v,m/=v,a.push([f,c]),A=2;A<r.length;A++)M=p,s=h,g=b,d=m,p=r[A][0],h=r[A][1],b=p-M,m=h-s,v=Math.sqrt(b*b+m*m),b/=v,m/=v,(b!==g||m!==d)&&a.push([M,s]);return a.push([p,h]),a}return I.compressPath=n,I}var Q,Me;function j(){return Me||(Me=1,Q={manhattan:function(l,u){return l+u},euclidean:function(l,u){return Math.sqrt(l*l+u*u)},octile:function(l,u){var o=Math.SQRT2-1;return l<u?o*l+u:o*u+l},chebyshev:function(l,u){return Math.max(l,u)}}),Q}var $,we;function ce(){if(we)return $;we=1;var l=L(),u=R(),o=j(),e=_();function t(i){i=i||{},this.allowDiagonal=i.allowDiagonal,this.dontCrossCorners=i.dontCrossCorners,this.heuristic=i.heuristic||o.manhattan,this.weight=i.weight||1,this.diagonalMovement=i.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=e.OnlyWhenNoObstacles:this.diagonalMovement=e.IfAtMostOneObstacle:this.diagonalMovement=e.Never),this.diagonalMovement===e.Never?this.heuristic=i.heuristic||o.manhattan:this.heuristic=i.heuristic||o.octile}return t.prototype.findPath=function(i,n,r,a,f){var c=new l(function(B,O){return B.f-O.f}),p=f.getNodeAt(i,n),h=f.getNodeAt(r,a),b=this.heuristic,m=this.diagonalMovement,M=this.weight,s=Math.abs,g=Math.SQRT2,d,v,A,w,k,N,F,W;for(p.g=0,p.f=0,c.push(p),p.opened=!0;!c.empty();){if(d=c.pop(),d.closed=!0,d===h)return u.backtrace(h);for(v=f.getNeighbors(d,m),w=0,k=v.length;w<k;++w)A=v[w],!A.closed&&(N=A.x,F=A.y,W=d.g+(N-d.x===0||F-d.y===0?1:g),(!A.opened||W<A.g)&&(A.g=W,A.h=A.h||M*b(s(N-r),s(F-a)),A.f=A.g+A.h,A.parent=d,A.opened?c.updateItem(A):(c.push(A),A.opened=!0)))}return[]},$=t,$}var z,Ne;function Qe(){if(Ne)return z;Ne=1;var l=ce();function u(o){l.call(this,o);var e=this.heuristic;this.heuristic=function(t,i){return e(t,i)*1e6}}return u.prototype=new l,u.prototype.constructor=u,z=u,z}var V,Fe;function $e(){if(Fe)return V;Fe=1;var l=R(),u=_();function o(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=u.OnlyWhenNoObstacles:this.diagonalMovement=u.IfAtMostOneObstacle:this.diagonalMovement=u.Never)}return o.prototype.findPath=function(e,t,i,n,r){var a=[],f=this.diagonalMovement,c=r.getNodeAt(e,t),p=r.getNodeAt(i,n),h,b,m,M,s;for(a.push(c),c.opened=!0;a.length;){if(m=a.shift(),m.closed=!0,m===p)return l.backtrace(p);for(h=r.getNeighbors(m,f),M=0,s=h.length;M<s;++M)b=h[M],!(b.closed||b.opened)&&(a.push(b),b.opened=!0,b.parent=m)}return[]},V=o,V}var Y,We;function ze(){if(We)return Y;We=1;var l=ce();function u(o){l.call(this,o),this.heuristic=function(e,t){return 0}}return u.prototype=new l,u.prototype.constructor=u,Y=u,Y}var K,Pe;function pe(){if(Pe)return K;Pe=1;var l=L(),u=R(),o=j(),e=_();function t(i){i=i||{},this.allowDiagonal=i.allowDiagonal,this.dontCrossCorners=i.dontCrossCorners,this.diagonalMovement=i.diagonalMovement,this.heuristic=i.heuristic||o.manhattan,this.weight=i.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=e.OnlyWhenNoObstacles:this.diagonalMovement=e.IfAtMostOneObstacle:this.diagonalMovement=e.Never),this.diagonalMovement===e.Never?this.heuristic=i.heuristic||o.manhattan:this.heuristic=i.heuristic||o.octile}return t.prototype.findPath=function(i,n,r,a,f){var c=function(Le,Ee){return Le.f-Ee.f},p=new l(c),h=new l(c),b=f.getNodeAt(i,n),m=f.getNodeAt(r,a),M=this.heuristic,s=this.diagonalMovement,g=this.weight,d=Math.abs,v=Math.SQRT2,A,w,k,N,F,W,B,O,q=1,J=2;for(b.g=0,b.f=0,p.push(b),b.opened=q,m.g=0,m.f=0,h.push(m),m.opened=J;!p.empty()&&!h.empty();){for(A=p.pop(),A.closed=!0,w=f.getNeighbors(A,s),N=0,F=w.length;N<F;++N)if(k=w[N],!k.closed){if(k.opened===J)return u.biBacktrace(A,k);W=k.x,B=k.y,O=A.g+(W-A.x===0||B-A.y===0?1:v),(!k.opened||O<k.g)&&(k.g=O,k.h=k.h||g*M(d(W-r),d(B-a)),k.f=k.g+k.h,k.parent=A,k.opened?p.updateItem(k):(p.push(k),k.opened=q))}for(A=h.pop(),A.closed=!0,w=f.getNeighbors(A,s),N=0,F=w.length;N<F;++N)if(k=w[N],!k.closed){if(k.opened===q)return u.biBacktrace(k,A);W=k.x,B=k.y,O=A.g+(W-A.x===0||B-A.y===0?1:v),(!k.opened||O<k.g)&&(k.g=O,k.h=k.h||g*M(d(W-i),d(B-n)),k.f=k.g+k.h,k.parent=A,k.opened?h.updateItem(k):(h.push(k),k.opened=J))}}return[]},K=t,K}var Z,De;function Ve(){if(De)return Z;De=1;var l=pe();function u(o){l.call(this,o);var e=this.heuristic;this.heuristic=function(t,i){return e(t,i)*1e6}}return u.prototype=new l,u.prototype.constructor=u,Z=u,Z}var X,Be;function Ye(){if(Be)return X;Be=1;var l=R(),u=_();function o(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=u.OnlyWhenNoObstacles:this.diagonalMovement=u.IfAtMostOneObstacle:this.diagonalMovement=u.Never)}return o.prototype.findPath=function(e,t,i,n,r){var a=r.getNodeAt(e,t),f=r.getNodeAt(i,n),c=[],p=[],h,b,m,M=this.diagonalMovement,s=0,g=1,d,v;for(c.push(a),a.opened=!0,a.by=s,p.push(f),f.opened=!0,f.by=g;c.length&&p.length;){for(m=c.shift(),m.closed=!0,h=r.getNeighbors(m,M),d=0,v=h.length;d<v;++d)if(b=h[d],!b.closed){if(b.opened){if(b.by===g)return l.biBacktrace(m,b);continue}c.push(b),b.parent=m,b.opened=!0,b.by=s}for(m=p.shift(),m.closed=!0,h=r.getNeighbors(m,M),d=0,v=h.length;d<v;++d)if(b=h[d],!b.closed){if(b.opened){if(b.by===s)return l.biBacktrace(b,m);continue}p.push(b),b.parent=m,b.opened=!0,b.by=g}}return[]},X=o,X}var x,Oe;function Ke(){if(Oe)return x;Oe=1;var l=pe();function u(o){l.call(this,o),this.heuristic=function(e,t){return 0}}return u.prototype=new l,u.prototype.constructor=u,x=u,x}var ee,ye;function Ze(){if(ye)return ee;ye=1,R();var l=j(),u=de(),o=_();function e(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||l.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||l.manhattan:this.heuristic=t.heuristic||l.octile}return e.prototype.findPath=function(t,i,n,r,a){var f=new Date().getTime(),c=(function(v,A){return this.heuristic(Math.abs(A.x-v.x),Math.abs(A.y-v.y))}).bind(this),p=function(v,A){return v.x===A.x||v.y===A.y?1:Math.SQRT2},h=(function(v,A,w,k,N){if(this.timeLimit>0&&new Date().getTime()-f>this.timeLimit*1e3)return 1/0;var F=A+c(v,m)*this.weight;if(F>w)return F;if(v==m)return k[N]=[v.x,v.y],v;var W,B,O,q,J=a.getNeighbors(v,this.diagonalMovement);for(O=0,W=1/0;q=J[O];++O){if(this.trackRecursion&&(q.retainCount=q.retainCount+1||1,q.tested!==!0&&(q.tested=!0)),B=h(q,A+p(v,q),w,k,N+1),B instanceof u)return k[N]=[v.x,v.y],B;this.trackRecursion&&--q.retainCount===0&&(q.tested=!1),B<W&&(W=B)}return W}).bind(this),b=a.getNodeAt(t,i),m=a.getNodeAt(n,r),M=c(b,m),s,g,d;for(s=0;;++s){if(g=[],d=h(b,0,M,g,0),d===1/0)return[];if(d instanceof u)return g;M=d}return[]},ee=e,ee}var te,qe;function E(){if(qe)return te;qe=1;var l=L(),u=R(),o=j();_();function e(t){t=t||{},this.heuristic=t.heuristic||o.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}return e.prototype.findPath=function(t,i,n,r,a){var f=this.openList=new l(function(b,m){return b.f-m.f}),c=this.startNode=a.getNodeAt(t,i),p=this.endNode=a.getNodeAt(n,r),h;for(this.grid=a,c.g=0,c.f=0,f.push(c),c.opened=!0;!f.empty();){if(h=f.pop(),h.closed=!0,h===p)return u.expandPath(u.backtrace(p));this._identifySuccessors(h)}return[]},e.prototype._identifySuccessors=function(t){var i=this.grid,n=this.heuristic,r=this.openList,a=this.endNode.x,f=this.endNode.y,c,p,h,b,m,M=t.x,s=t.y,g,d,v,A,w,k=Math.abs;for(c=this._findNeighbors(t),b=0,m=c.length;b<m;++b)if(p=c[b],h=this._jump(p[0],p[1],M,s),h){if(g=h[0],d=h[1],w=i.getNodeAt(g,d),w.closed)continue;v=o.octile(k(g-M),k(d-s)),A=t.g+v,(!w.opened||A<w.g)&&(w.g=A,w.h=w.h||n(k(g-a),k(d-f)),w.f=w.g+w.h,w.parent=t,w.opened?r.updateItem(w):(r.push(w),w.opened=!0))}},te=e,te}var ie,_e;function Xe(){if(_e)return ie;_e=1;var l=E(),u=_();function o(e){l.call(this,e)}return o.prototype=new l,o.prototype.constructor=o,o.prototype._jump=function(e,t,i,n){var r=this.grid,a=e-i,f=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-a,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-a,t+1))return[e,t]}else if(f!==0){if(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-f)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-f))return[e,t];if(this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(e+a,t+f,e,t)},o.prototype._findNeighbors=function(e){var t=e.parent,i=e.x,n=e.y,r=this.grid,a,f,c,p,h=[],b,m,M,s;if(t)a=t.x,f=t.y,c=(i-a)/Math.max(Math.abs(i-a),1),p=(n-f)/Math.max(Math.abs(n-f),1),c!==0?(r.isWalkableAt(i,n-1)&&h.push([i,n-1]),r.isWalkableAt(i,n+1)&&h.push([i,n+1]),r.isWalkableAt(i+c,n)&&h.push([i+c,n])):p!==0&&(r.isWalkableAt(i-1,n)&&h.push([i-1,n]),r.isWalkableAt(i+1,n)&&h.push([i+1,n]),r.isWalkableAt(i,n+p)&&h.push([i,n+p]));else for(b=r.getNeighbors(e,u.Never),M=0,s=b.length;M<s;++M)m=b[M],h.push([m.x,m.y]);return h},ie=o,ie}var re,Ce;function xe(){if(Ce)return re;Ce=1;var l=E(),u=_();function o(e){l.call(this,e)}return o.prototype=new l,o.prototype.constructor=o,o.prototype._jump=function(e,t,i,n){var r=this.grid,a=e-i,f=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0&&f!==0){if(r.isWalkableAt(e-a,t+f)&&!r.isWalkableAt(e-a,t)||r.isWalkableAt(e+a,t-f)&&!r.isWalkableAt(e,t-f))return[e,t];if(this._jump(e+a,t,e,t)||this._jump(e,t+f,e,t))return[e,t]}else if(a!==0){if(r.isWalkableAt(e+a,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+a,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+f)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+f)&&!r.isWalkableAt(e-1,t))return[e,t];return this._jump(e+a,t+f,e,t)},o.prototype._findNeighbors=function(e){var t=e.parent,i=e.x,n=e.y,r=this.grid,a,f,c,p,h=[],b,m,M,s;if(t)a=t.x,f=t.y,c=(i-a)/Math.max(Math.abs(i-a),1),p=(n-f)/Math.max(Math.abs(n-f),1),c!==0&&p!==0?(r.isWalkableAt(i,n+p)&&h.push([i,n+p]),r.isWalkableAt(i+c,n)&&h.push([i+c,n]),r.isWalkableAt(i+c,n+p)&&h.push([i+c,n+p]),r.isWalkableAt(i-c,n)||h.push([i-c,n+p]),r.isWalkableAt(i,n-p)||h.push([i+c,n-p])):c===0?(r.isWalkableAt(i,n+p)&&h.push([i,n+p]),r.isWalkableAt(i+1,n)||h.push([i+1,n+p]),r.isWalkableAt(i-1,n)||h.push([i-1,n+p])):(r.isWalkableAt(i+c,n)&&h.push([i+c,n]),r.isWalkableAt(i,n+1)||h.push([i+c,n+1]),r.isWalkableAt(i,n-1)||h.push([i+c,n-1]));else for(b=r.getNeighbors(e,u.Always),M=0,s=b.length;M<s;++M)m=b[M],h.push([m.x,m.y]);return h},re=o,re}var ne,Ie;function et(){if(Ie)return ne;Ie=1;var l=E(),u=_();function o(e){l.call(this,e)}return o.prototype=new l,o.prototype.constructor=o,o.prototype._jump=function(e,t,i,n){var r=this.grid,a=e-i,f=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0&&f!==0){if(this._jump(e+a,t,e,t)||this._jump(e,t+f,e,t))return[e,t]}else if(a!==0){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-a,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-a,t+1))return[e,t]}else if(f!==0&&(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-f)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-f)))return[e,t];return r.isWalkableAt(e+a,t)&&r.isWalkableAt(e,t+f)?this._jump(e+a,t+f,e,t):null},o.prototype._findNeighbors=function(e){var t=e.parent,i=e.x,n=e.y,r=this.grid,a,f,c,p,h=[],b,m,M,s;if(t)if(a=t.x,f=t.y,c=(i-a)/Math.max(Math.abs(i-a),1),p=(n-f)/Math.max(Math.abs(n-f),1),c!==0&&p!==0)r.isWalkableAt(i,n+p)&&h.push([i,n+p]),r.isWalkableAt(i+c,n)&&h.push([i+c,n]),r.isWalkableAt(i,n+p)&&r.isWalkableAt(i+c,n)&&h.push([i+c,n+p]);else{var g;if(c!==0){g=r.isWalkableAt(i+c,n);var d=r.isWalkableAt(i,n+1),v=r.isWalkableAt(i,n-1);g&&(h.push([i+c,n]),d&&h.push([i+c,n+1]),v&&h.push([i+c,n-1])),d&&h.push([i,n+1]),v&&h.push([i,n-1])}else if(p!==0){g=r.isWalkableAt(i,n+p);var A=r.isWalkableAt(i+1,n),w=r.isWalkableAt(i-1,n);g&&(h.push([i,n+p]),A&&h.push([i+1,n+p]),w&&h.push([i-1,n+p])),A&&h.push([i+1,n]),w&&h.push([i-1,n])}}else for(b=r.getNeighbors(e,u.OnlyWhenNoObstacles),M=0,s=b.length;M<s;++M)m=b[M],h.push([m.x,m.y]);return h},ne=o,ne}var se,Re;function tt(){if(Re)return se;Re=1;var l=E(),u=_();function o(e){l.call(this,e)}return o.prototype=new l,o.prototype.constructor=o,o.prototype._jump=function(e,t,i,n){var r=this.grid,a=e-i,f=t-n;if(!r.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0&&f!==0){if(r.isWalkableAt(e-a,t+f)&&!r.isWalkableAt(e-a,t)||r.isWalkableAt(e+a,t-f)&&!r.isWalkableAt(e,t-f))return[e,t];if(this._jump(e+a,t,e,t)||this._jump(e,t+f,e,t))return[e,t]}else if(a!==0){if(r.isWalkableAt(e+a,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+a,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+f)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+f)&&!r.isWalkableAt(e-1,t))return[e,t];return r.isWalkableAt(e+a,t)||r.isWalkableAt(e,t+f)?this._jump(e+a,t+f,e,t):null},o.prototype._findNeighbors=function(e){var t=e.parent,i=e.x,n=e.y,r=this.grid,a,f,c,p,h=[],b,m,M,s;if(t)a=t.x,f=t.y,c=(i-a)/Math.max(Math.abs(i-a),1),p=(n-f)/Math.max(Math.abs(n-f),1),c!==0&&p!==0?(r.isWalkableAt(i,n+p)&&h.push([i,n+p]),r.isWalkableAt(i+c,n)&&h.push([i+c,n]),(r.isWalkableAt(i,n+p)||r.isWalkableAt(i+c,n))&&h.push([i+c,n+p]),!r.isWalkableAt(i-c,n)&&r.isWalkableAt(i,n+p)&&h.push([i-c,n+p]),!r.isWalkableAt(i,n-p)&&r.isWalkableAt(i+c,n)&&h.push([i+c,n-p])):c===0?r.isWalkableAt(i,n+p)&&(h.push([i,n+p]),r.isWalkableAt(i+1,n)||h.push([i+1,n+p]),r.isWalkableAt(i-1,n)||h.push([i-1,n+p])):r.isWalkableAt(i+c,n)&&(h.push([i+c,n]),r.isWalkableAt(i,n+1)||h.push([i+c,n+1]),r.isWalkableAt(i,n-1)||h.push([i+c,n-1]));else for(b=r.getNeighbors(e,u.IfAtMostOneObstacle),M=0,s=b.length;M<s;++M)m=b[M],h.push([m.x,m.y]);return h},se=o,se}var ae,Je;function it(){if(Je)return ae;Je=1;var l=_(),u=Xe(),o=xe(),e=et(),t=tt();function i(n){return n=n||{},n.diagonalMovement===l.Never?new u(n):n.diagonalMovement===l.Always?new o(n):n.diagonalMovement===l.OnlyWhenNoObstacles?new e(n):new t(n)}return ae=i,ae}var oe,je;function rt(){return je||(je=1,oe={Heap:L(),Node:de(),Grid:Ge(),Util:R(),DiagonalMovement:_(),Heuristic:j(),AStarFinder:ce(),BestFirstFinder:Qe(),BreadthFirstFinder:$e(),DijkstraFinder:ze(),BiAStarFinder:pe(),BiBestFirstFinder:Ve(),BiBreadthFirstFinder:Ye(),BiDijkstraFinder:Ke(),IDAStarFinder:Ze(),JumpPointFinder:it()}),oe}var le,Se;function nt(){return Se||(Se=1,le=rt()),le}var st=nt();const he=He(st);let y=new he.Grid(600,600);for(var P=0;P<y.width;P++)for(var D=0;D<y.height;D++)y.setWalkableAt(P,D,!1),((P-120)%120===0&&P<=y.width||P===y.width-1)&&y.setWalkableAt(P,D,!0),((D-120)%120===0&&D<=y.height||D===y.height-1)&&y.setWalkableAt(P,D,!0),(D-60)%120===0&&D<=y.height&&(P>=0&&P<=10||P>=110&&P<=130||P>=220&&P<=250||P>=340&&P<=370||P>=460&&P<=490||P>=590&&P<=600)&&y.setWalkableAt(P,D,!0),(P-60)%120===0&&P<=y.width&&(D>=0&&D<=10||D>=110&&D<=130||D>=230&&D<=250||D>=350&&D<=370||D>=470&&D<=490||D>=590&&D<=600)&&y.setWalkableAt(P,D,!0);var at=new he.AStarFinder({heuristic:he.Heuristic.manhattan,biDirectional:!0});function ot(l,u){console.time("getPath");var o=y.clone(),e=at.findPath(l.x,l.y,u.x,u.y,o);return console.timeEnd("getPath"),e}let fe=[],C=null;const lt=document.getElementById("grid"),ut=5,ht=5;for(let l=0;l<ut*ht;l++){const u=document.createElement("div");u.className="grid-cell",u.id=`cell-${l+1}`,u.textContent=l+1,["top","right","bottom","left"].forEach(o=>{const e=document.createElement("button");e.className=`direction-button ${o}-button`,e.dataset.direction=o,u.appendChild(e)}),lt.appendChild(u)}function ue(l){const u=document.getElementById("svg").getBoundingClientRect(),o=l.closest(".grid-cell").getBoundingClientRect();let e=o.left+o.width/2-u.left,t=o.top+o.height/2-u.top;switch(l.dataset.direction){case"top":t=o.top-u.top,e=o.left+o.width/2-u.left;break;case"bottom":t=o.bottom-u.top,e=o.left+o.width/2-u.left;break;case"left":e=o.left-u.left,t=o.top+o.height/2-u.top;break;case"right":e=o.right-u.left,t=o.top+o.height/2-u.top;break}return{x:e,y:t}}function ft(l){if(!l||l.length<2)return;const u=document.createElementNS("http://www.w3.org/2000/svg","g");for(let a=0;a<l.length-1;a++){const f=document.createElementNS("http://www.w3.org/2000/svg","line");f.setAttribute("x1",l[a].x),f.setAttribute("y1",l[a].y),f.setAttribute("x2",l[a+1].x),f.setAttribute("y2",l[a+1].y),f.setAttribute("stroke","#fe1115"),f.setAttribute("stroke-width","2"),u.appendChild(f)}const o=l[l.length-1],e=l[l.length-2],t=Math.atan2(o.y-e.y,o.x-e.x),i=8,n=document.createElementNS("http://www.w3.org/2000/svg","polygon"),r=[[o.x,o.y],[o.x-i*Math.cos(t-Math.PI/6),o.y-i*Math.sin(t-Math.PI/6)],[o.x-i*Math.cos(t+Math.PI/6),o.y-i*Math.sin(t+Math.PI/6)]].map(a=>a.join(",")).join(" ");return n.setAttribute("points",r),n.setAttribute("fill","#fe1115"),u.appendChild(n),u}function dt(l){if(!l||l.length<2)return[];const u=[];u.push({x:l[0][0],y:l[0][1]});let o=null;for(let e=1;e<l.length;e++){const t=l[e-1],i=l[e];let n;i[0]!==t[0]?n="horizontal":i[1]!==t[1]&&(n="vertical"),(n!==o||e===l.length-1)&&(e!==l.length-1?u.push({x:t[0],y:t[1]}):u.push({x:i[0],y:i[1]}),o=n)}return u}function ct(l){if(console.log("getButtonPosition",ue(l.target)),!l.target.classList.contains("direction-button"))return;const u=l.target;if(!C)C=u,u.classList.add("active"),u.closest(".grid-cell").classList.add("selected");else{if(C===u){u.classList.remove("active"),u.closest(".grid-cell").classList.remove("selected"),C=null;return}const o=ue(C),e=ue(u),t=ot(o,e);let i=dt(t);if(i){const n=ft(i);n&&(document.getElementById("svg").appendChild(n),fe.push(n))}C.classList.remove("active"),C.closest(".grid-cell").classList.remove("selected"),C=null}}function pt(){fe.forEach(l=>l.remove()),fe=[],C&&(C.classList.remove("active"),C.closest(".grid-cell").classList.remove("selected"),C=null)}document.addEventListener("click",ct);window.clearPaths=pt;
